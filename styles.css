/* styles.css — AI BAYAN GRAMMAR 4gr (fixed)
   - main accent grey-blue
   - unit view accent changes automatically via --accent
   - marks ✓/✗, tiles, tabs, print watermark
*/

:root{
  --accent:#0f7c8a;
  --bg1:#e7f5f7;
  --bg2:#f2fbfc;
  --card:#ffffff;
  --muted:#6a7a80;
  --shadow:0 10px 30px rgba(0,0,0,.08);
  --radius:18px;
}

*{box-sizing:border-box;margin:0;padding:0;font-family:"Segoe UI",Arial,sans-serif;}
body{background:linear-gradient(135deg,var(--bg1),var(--bg2));min-height:100vh;}
#app{min-height:100vh;}

.shell{padding:18px;}
.topbar{
  background:var(--accent);
  color:#fff;
  border-radius:22px;
  padding:14px 16px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  box-shadow:var(--shadow);
}
.brand{display:flex;align-items:center;gap:10px;}
.logo{width:44px;height:44px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.6);}
.brandTitle{font-weight:800;letter-spacing:.3px}
.brandSub{opacity:.9;font-size:13px}

.topActions{display:flex;gap:10px;align-items:center;}
.btnGhost,.btnDanger,.btnPrimary,.btnGhostLight{
  border:none;cursor:pointer;font-weight:700;border-radius:14px;padding:9px 14px;
}
.btnGhost{background:rgba(255,255,255,.18);color:#fff;border:1px solid rgba(255,255,255,.25);}
.btnGhost:hover{background:rgba(255,255,255,.25);}
.btnDanger{background:#ff4d5a;color:#fff;}
.btnDanger:hover{filter:brightness(.95);}
.btnPrimary{background:var(--accent);color:#fff;}
.btnPrimary:hover{filter:brightness(.95);}
.btnGhostLight{background:rgba(255,255,255,.85);color:#0b3f47;}
.btnGhostLight:hover{background:#fff;}

.layout{display:flex;gap:18px;margin-top:14px;}
.left{width:280px;}
.main{
  flex:1;background:var(--card);border-radius:22px;padding:18px;box-shadow:var(--shadow);
  min-height: calc(100vh - 120px);
}

.navCard,.progressCard{
  background:#fff;border-radius:18px;padding:14px;box-shadow:var(--shadow);
  margin-bottom:12px;
}
.navBtn{
  width:100%;border:none;border-radius:14px;padding:10px 12px;
  background:#eef6f7;cursor:pointer;font-weight:800;margin-bottom:8px;
}
.navBtn.active{background:var(--accent);color:#fff;}
.navBtn:hover{filter:brightness(.98);}

.progressTitle{font-weight:900;color:#0b3f47;margin-bottom:6px;}
.starsLine{color:#0b3f47;font-weight:700}

.pageHeader{display:flex;justify-content:space-between;align-items:flex-end;margin:4px 0 14px;}
.pageTitle{font-size:22px;font-weight:900;color:#0b3f47;}
.pageSub{font-size:13px;color:var(--muted);font-weight:700}

.tiles{
  display:grid;
  grid-template-columns: repeat(3, minmax(220px, 1fr));
  gap:14px;
}
.unitTile{
  background:#fff;border-radius:18px;box-shadow:var(--shadow);
  border:2px solid rgba(0,0,0,.06);
  padding:12px;cursor:pointer;
  position:relative;
}
.unitTile::before{
  content:"";position:absolute;inset:0;border-radius:18px;
  border:2px solid color-mix(in srgb, var(--tile) 55%, transparent);
  pointer-events:none;
}
.tileTop{display:flex;gap:10px;align-items:center;}
.tileLogo{width:44px;height:44px;border-radius:50%;object-fit:cover;border:2px solid rgba(0,0,0,.06);}
.tileTitle{font-weight:900;color:#0b3f47;}
.tileSub{font-size:12px;color:var(--muted);font-weight:700;margin-top:2px;}
.unitTile:hover{transform:translateY(-1px);transition:.15s;}

.testTile{
  background:#fff;border-radius:18px;box-shadow:var(--shadow);
  padding:14px;cursor:pointer;border:2px solid rgba(15,124,138,.2);
}
.testTile:hover{transform:translateY(-1px);transition:.15s;}

.unitHeader{
  border-radius:18px;padding:14px 14px;display:flex;justify-content:space-between;align-items:center;
  color:#fff;box-shadow:var(--shadow);margin-bottom:12px;
}
.unitHeaderLeft{display:flex;gap:12px;align-items:center;}
.unitLogo{width:54px;height:54px;border-radius:50%;object-fit:cover;border:2px solid rgba(255,255,255,.6);}
.unitTitle{font-size:20px;font-weight:900;}
.unitSub{font-size:12px;opacity:.95;font-weight:700;}

.ruleCard{
  background:#f7fbfc;border-radius:18px;padding:14px;box-shadow:var(--shadow);
  border-left:6px solid var(--accent);margin-bottom:12px;
}
.ruleTop{display:flex;gap:10px;align-items:center;margin-bottom:10px;}
.ruleLogo{width:44px;height:44px;border-radius:50%;object-fit:cover;border:2px solid rgba(0,0,0,.06);}
.ruleTitle{font-weight:900;color:#0b3f47;}
.ruleTopic{font-size:12px;color:var(--muted);font-weight:700;margin-top:2px;}
.ruleBlock{background:#fff;border-radius:14px;padding:10px;margin-top:8px;border:1px solid rgba(0,0,0,.06);}
.ruleLabel{font-weight:900;color:#0b3f47;font-size:12px;margin-bottom:4px;}
.ruleText{color:#0b3f47;font-weight:700;font-size:13px;line-height:1.4;}

.tabsRow{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0 12px;}
.exTab{
  border:none;border-radius:14px;padding:9px 12px;cursor:pointer;font-weight:900;
  background:var(--tab);color:#0b3f47;
  border:2px solid color-mix(in srgb, var(--tab) 55%, transparent);
}
.exTab.active{background:var(--accent);color:#fff;border-color:rgba(255,255,255,.25);}
.exTab:hover{filter:brightness(.98);}

.card{
  background:#fff;border-radius:22px;padding:14px;box-shadow:var(--shadow);
}
.cardHeader{display:flex;justify-content:space-between;align-items:center;margin-bottom:10px;}
.cardTitle{font-size:16px;font-weight:900;color:#0b3f47;}
.badge{padding:6px 10px;border-radius:999px;background:#eef6f7;font-weight:900;color:#0b3f47;font-size:12px;}

.items{display:flex;flex-direction:column;gap:10px;margin-top:6px;}
.itemRow{
  display:flex;justify-content:space-between;gap:12px;align-items:center;
  padding:10px;border-radius:16px;border:1px solid rgba(0,0,0,.05);background:#fbfeff;
}
.q{display:flex;gap:10px;align-items:flex-start;flex:1;}
.qNum{font-weight:900;color:#0b3f47;width:28px;}
.qText{font-weight:800;color:#0b3f47;}
.a{display:flex;gap:10px;align-items:center;min-width:280px;justify-content:flex-end;}

.input{
  width:220px;max-width:220px;
  padding:9px 10px;border-radius:12px;border:1px solid #cfdfe3;
  font-weight:800;outline:none;
}
.input:focus{border-color:color-mix(in srgb, var(--accent) 55%, #cfdfe3);}

.cardActions{display:flex;gap:10px;align-items:center;margin-top:12px;}
.muted{color:var(--muted);font-weight:700;font-size:13px;}
.mutedSmall{color:var(--muted);font-weight:700;font-size:12px;margin-top:8px;}

.mark{
  width:28px;height:28px;border-radius:999px;display:flex;align-items:center;justify-content:center;
  font-weight:1000;animation:popIn .25s ease-out;
}
.mark.ok{background:#2ecc71;color:#fff;}
.mark.bad{background:#e74c3c;color:#fff;}
@keyframes popIn{0%{transform:scale(.6);opacity:0}100%{transform:scale(1);opacity:1}}

.smsBtn{
  position:fixed;left:22px;bottom:22px;
  background:var(--accent);color:#fff;border:none;
  border-radius:18px;padding:10px 16px;font-weight:1000;
  box-shadow:0 6px 18px rgba(0,0,0,.18);
  cursor:pointer;
}
.smsBtn:hover{filter:brightness(.95);}

.chatOverlay{
  position:fixed;inset:0;background:rgba(0,0,0,.35);display:flex;align-items:flex-end;justify-content:flex-start;
  padding:18px;
}
.chatModal{
  width:min(520px, 92vw);
  background:#fff;border-radius:22px;box-shadow:var(--shadow);overflow:hidden;
}
.chatHeader{
  background:var(--accent);color:#fff;padding:12px 14px;display:flex;justify-content:space-between;align-items:center;
}
.chatTitle{font-weight:1000;}
.chatClose{background:rgba(255,255,255,.2);border:none;color:#fff;border-radius:12px;padding:6px 10px;cursor:pointer;font-weight:1000}
.chatBody{padding:12px;}
.quickRow{display:flex;gap:8px;flex-wrap:wrap;margin:10px 0;}
.chip{border:none;border-radius:999px;padding:7px 10px;background:#eef6f7;font-weight:900;cursor:pointer}
.chatLog{height:220px;overflow:auto;border:1px solid rgba(0,0,0,.06);border-radius:14px;padding:10px;background:#fbfeff}
.msg{display:flex;margin-bottom:8px}
.msg.user{justify-content:flex-end}
.msg.ai{justify-content:flex-start}
.bubble{max-width:75%;padding:8px 10px;border-radius:14px;font-weight:800}
.msg.user .bubble{background:color-mix(in srgb, var(--accent) 18%, #eef6f7);border:1px solid rgba(0,0,0,.06)}
.msg.ai .bubble{background:#eef6f7;border:1px solid rgba(0,0,0,.06)}
.chatInputRow{display:flex;gap:8px;margin-top:10px;align-items:center}

.tableWrap{overflow:auto;border:1px solid rgba(0,0,0,.06);border-radius:14px;background:#fff;}
.t{width:100%;border-collapse:collapse;font-weight:800;color:#0b3f47;font-size:13px;}
.t th,.t td{padding:10px;border-bottom:1px solid rgba(0,0,0,.06);text-align:left;white-space:nowrap;}
.tableTitle{font-weight:1000;color:#0b3f47;margin:6px 0 8px;}

.loginPage{
  min-height:100vh;display:flex;align-items:center;justify-content:center;padding:18px;
}
.loginCard{
  width:min(520px, 92vw);background:#fff;border-radius:22px;box-shadow:var(--shadow);padding:18px;
}
.loginBrand{display:flex;gap:12px;align-items:center;margin-bottom:14px;}
.logoBig{width:64px;height:64px;border-radius:50%;object-fit:cover;border:2px solid rgba(0,0,0,.06);}
.appTitle{font-weight:1000;font-size:18px;color:#0b3f47;}
.appSub{font-weight:800;color:var(--muted);font-size:13px;margin-top:2px;}
.loginForm{display:flex;flex-direction:column;gap:8px;margin-top:8px;}
.loginForm label{font-weight:900;color:#0b3f47;font-size:12px;}
.loginError{background:#ffe7ea;color:#a40012;padding:10px;border-radius:14px;font-weight:900;margin:8px 0;}

@media (max-width: 980px){
  .tiles{grid-template-columns: repeat(2, minmax(220px, 1fr));}
  .left{width:260px;}
}
@media (max-width: 760px){
  .layout{flex-direction:column;}
  .left{width:100%;}
  .tiles{grid-template-columns: 1fr;}
  .a{min-width:unset}
  .input{width:100%;max-width:100%}
}

/* PRINT + watermark */
@media print{
  body{background:#fff !important;}
  .smsBtn,.chatOverlay,.topActions,.navCard button:last-child{display:none !important;}
  .shell{padding:0;}
  .layout{gap:0;margin-top:0;}
  .left{display:none;}
  .main{box-shadow:none;border-radius:0;}
  .topbar{border-radius:0;box-shadow:none;}
  body::before{
    content:"AI BAYAN GRAMMAR 4gr";
    position:fixed;inset:0;
    display:flex;align-items:center;justify-content:center;
    font-size:64px;font-weight:1000;
    color:rgba(0,0,0,.08);
    transform:rotate(-20deg);
    pointer-events:none;
  }
}
